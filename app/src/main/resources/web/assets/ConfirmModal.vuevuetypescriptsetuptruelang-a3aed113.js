import{c as d}from"./list-347696d3.js";import{u as l,t as m,X as u,ar as f,I as r,U as _,as as h,at as I,au as k,av as g,d as v,o as y,Q as b,v as c,j as D,f as i,b as V,a1 as $}from"./index-400f4a7b.js";import{_ as w}from"./VModal.vuevuetypescriptsetuptruelang-610de861.js";const B=(t,a)=>{const{t:s}=l();return{deleteItems:()=>{const o=a.value.filter(e=>e.checked);if(o.length===0){m(s("select_first"),"error");return}u(d,{gql:f,variables:()=>({tagType:t,ids:o.map(e=>e.id)}),done:()=>{r.emit("refetch_app"),r.emit("refetch_by_tag_type",t)}})}}},T=t=>{const{t:a}=l(),{mutate:s,onDone:o}=_({document:h,appApi:!0});return o(e=>{const n=`${I()}/zip/files?id=${encodeURIComponent(e.data.setTempValue.key)}`;k(n,""),t.value.forEach(p=>{p.checked=!1})}),{downloadItems:()=>{const e=t.value.filter(n=>n.checked);if(e.length===0){m(a("select_first"),"error");return}s({key:g(),value:JSON.stringify(e.map(n=>n.path))})}}},N=v({__name:"ConfirmModal",props:{message:{type:String}},setup(t){function a(){$()}return(s,o)=>{const e=w;return y(),b(e,{size:"sm","show-cancel":!1,title:s.$t("confirm")},{body:c(()=>[D(i(t.message),1)]),action:c(()=>[V("button",{type:"button",class:"btn",onClick:a},i(s.$t("ok")),1)]),_:1},8,["title"])}}});export{N as _,T as a,B as u};
